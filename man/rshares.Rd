% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/rshares.R
\name{rshares}
\alias{rshares}
\title{Generate random shares that always sum to 1}
\usage{
rshares(n, shares, sds = NULL, na_action = "fill", max_iter = 1000, ...)
}
\arguments{
\item{n}{Integer. Sample size.}

\item{shares}{Numeric vector containing a best-guess (mean) values for the shares.
May contain \code{NA}, which is handled depending on \code{na_action}. Must sum to 1
after adjustment.}

\item{sds}{Numeric vector (same length as \code{shares}) for the standard deviations of
the shares. Can also contain \code{NA}.}

\item{na_action}{Character. Either \code{"fill"} (default) to fill \code{NA} shares
proportionally, or \code{"remove"} to drop them entirely.}

\item{max_iter}{Numeric. Used by \code{\link[=rbeta3]{rbeta3()}} if partial Beta sampling is performed
(not used here unless you modify the source).}

\item{...}{Additional arguments passed on to \code{\link[=rbeta3]{rbeta3()}} or other internal functions.}
}
\value{
A numeric matrix of dimension \code{n} times \code{length(shares)}, with
each row summing to 1.
}
\description{
This function combines different approaches for generating shares (Dirichlet,
Generalised Dirichlet, Beta) in a single workflow, depending on the information
provided by \code{shares} and \code{sds}. All generated vectors sum to 1.
}
\details{
The logic is:
\enumerate{
\item If both mean and SD are available for \strong{all} shares, use \code{\link[=rdir_generalised]{rdir_generalised()}}.
\item If only mean values (no SDs) are available for \strong{all} shares, use \code{\link[=rdir_maxent]{rdir_maxent()}}.
\item Otherwise, throw an error if partial information is present (e.g., some but not all
SDs are defined).
}

By default, if \code{na_action} is "fill", any \code{NA} in \code{shares} is replaced
proportionally so that the new \code{shares} still sum to 1. If \code{na_action} is "remove",
elements with \code{NA} are dropped.
}
\examples{
# Example with no SDs -> uses rdir_maxent
rshares(5, c(0.1, 0.3, 0.6))

# Example with means & SDs for all -> uses rdir_generalised
rshares(5, c(0.1, 0.3, 0.6), c(0.05, 0.07, 0.02))

# 'na_action' example: fill missing shares to sum to 1
rshares(5, c(NA, 0.2, 0.3), c(NA, 0.04, 0.05), na_action = "fill")
}
\seealso{
\code{\link[=rdir_generalised]{rdir_generalised()}}, \code{\link[=rdir_maxent]{rdir_maxent()}}, \code{\link[=rbeta3]{rbeta3()}}
}
